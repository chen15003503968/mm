(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[3],{"88ba":function(t,e,r){"use strict";r("943d")},"943d":function(t,e,r){},a38b:function(t,e,r){},b3a7:function(t,e,r){"use strict";let s={historyList:[],searchType:1,serverUrl:"https://netease-cloud-music-api-rho-eosin.vercel.app/",urlList:{playlist_hot:"/playlist/hot",reCommNewsone:"/personalized/newsong",reCommMv:"/personalized/mv",reCommDjprogram:"/personalized/djprogram",reCommProgram:"/program/recommend",songDetail:"/song/detail",songUrl:"/song/url",songLyric:"/lyric",song_new_top:"/top/song",banner:"/banner",finds:"/homepage/block/page",search:"/search",cloudsearch:"/cloudsearch",mvUrl:"/mv/url",vdoUrl:"/video/url",vdoDetail:"/video/detail",relatedVdo:"/related/allvideo",djHot:"/dj/hot",djProgramTop:"/dj/program/toplist",djPay:"/dj/toplist/pay",djProgramHours:"/dj/program/toplist/hours",djToplistHours:"/dj/toplist/hours",djNewComer:"/dj/toplist/newcomer",djPopular:"/dj/toplist/popular",djRecommend:"/dj/recommend",djSubscriber:"/dj/subscriber",djDetail:"/dj/detail",djProgram:"/dj/program",djProgramDetail:"/dj/program/detail",comment_dj:"/comment/dj",comment_video:"/comment/video",comment_hot:"/comment/hot",comment_music:"/comment/music",comment_mv:"/comment/mv",comment_playList:"/comment/playlist"}};e["a"]=s},bad0:function(t,e,r){"use strict";var s=r("b3a7"),i=(r("e6cf"),r("bc3a")),a=r.n(i),o=r("4328"),n=r.n(o);a.a.defaults.withCredentials=!0,a.a.defaults.baseURL=s["a"].serverUrl,a.a.interceptors.request.use((t=>("post"!==t.meth||t.data instanceof FormData||(t.headers={"Content-Type":"application/x-www-form-urlencoded"},t.data=n.a.stringify(t.data,{arrayFormat:"repeat"})),t)),(t=>{console.log(t)})),a.a.interceptors.response.use((t=>t),(t=>Promise.resolve(t)));var l=a.a,c=r("2a19"),m=r("436b");let d={netUtils:{requestDataAxios(t,e,r,s,i="post"){l({url:t,data:e,method:i,withCredentials:!0}).then((t=>{console.log(t),r(t.data)})).catch((t=>{s(t)}))},requestAxios(t,e,r,s="post"){l({url:t,method:s,withCredentials:!0}).then((t=>{console.log(t),e(t.data)})).catch((t=>{r(t)}))}},utils:{getHotMusic(t,e){d.netUtils.requestAxios(s["a"].urlList.hot,t,e,"get")},getReCommNewSone(t,e){d.netUtils.requestAxios(s["a"].urlList.reCommNewsone+"?limit=100",t,e,"get")},getRecomeMv(t,e){d.netUtils.requestAxios(s["a"].urlList.reCommMv,t,e,"get")},getRecommSongList(t,e){d.netUtils.requestAxios(s["a"].urlList.reCommNewsone+"?limit=100",t,e,"get")},getRecomeDJ(t,e){d.netUtils.requestAxios(s["a"].urlList.reCommDjprogram,t,e,"get")},getSongUrl(t,e,r){d.netUtils.requestDataAxios(s["a"].urlList.songUrl+"?id="+t.id,t,e,r,"get")},getSongDetail(t,e,r){d.netUtils.requestAxios(s["a"].urlList.songDetail+"?ids="+t.id,e,r,"get")},getMvUrl(t,e,r){d.netUtils.requestAxios(s["a"].urlList.mvUrl+"?id="+t,e,r,"get")},getSearchResult(t,e,r){d.netUtils.requestAxios(s["a"].urlList.search+"?keywords="+t.keywords,e,r,"get")},getCloudSearchResult(t,e,r){d.netUtils.requestAxios(s["a"].urlList.cloudsearch+"?keywords="+t.keywords+"&type="+t.type+"&limit=100&offset=0",e,r,"get")},getSongLyric(t,e,r){d.netUtils.requestAxios(s["a"].urlList.songLyric+"?id="+t,e,r,"get")},getBannerImageData(t,e){d.netUtils.requestAxios(s["a"].urlList.banner,t,e,"get")},getHomeBlock(t,e){d.netUtils.requestAxios(s["a"].urlList.finds,t,e,"get")},getDJHotData(t,e){d.netUtils.requestAxios(s["a"].urlList.djHot+"?limit=100",t,e,"get")},getDJProgramTopData(t,e){d.netUtils.requestAxios(s["a"].urlList.djProgramTop,t,e,"get")},getDJPayTopData(t,e){d.netUtils.requestAxios(s["a"].urlList.djPay,t,e,"get")},getDJSubscriber(t,e,r){d.netUtils.requestAxios(s["a"].urlList.djSubscriber+"?id="+t+"&limit=100",e,r,"get")},getDJDetail(t,e,r){d.netUtils.requestAxios(s["a"].urlList.djDetail+"?rid="+t,e,r,"get")},getDJProgram(t,e,r){d.netUtils.requestAxios(s["a"].urlList.djProgram+"?rid="+t,e,r,"get")},getDJProgramDetail(t,e,r){d.netUtils.requestAxios(s["a"].urlList.djProgramDetail+"?id="+t,e,r,"get")},getDJComment(t,e,r){d.netUtils.requestAxios(s["a"].urlList.comment_dj+"?id="+t,e,r,"get")},getVedioUrl(t,e,r){d.netUtils.requestAxios(s["a"].urlList.vdoUrl+"?id="+t,e,r,"get")},getVedioDetail(t,e,r){d.netUtils.requestAxios(s["a"].urlList.vdoDetail+"?id="+t,e,r,"get")}},formatSeconds(t){var e=parseInt(t),r=0,s="";return e>60&&(r=parseInt(e/60),e=parseInt(e%60)),s=r>0?(parseInt(r)>=10?parseInt(r):"0"+parseInt(r))+":"+(parseInt(e)>=10?parseInt(e):"0"+parseInt(e)):"00:"+(parseInt(e)>=10?parseInt(e):"0"+parseInt(e)),s},timestampToTime(t){var e=new Date(t),r=e.getFullYear()+"-",s=(e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1)+"-",i=e.getDate()+1<10?"0"+(e.getDate()+1):e.getDate()+1;return r+s+i},AlertDialog(t,e,r){m["a"].create({title:t,message:e}).onOk((()=>{r()}))},ShowNotify(t){c["a"].create({message:t})},farmatNumTenThousand(t){return t>1e4?(t/1e4).toFixed(2)+"万":t}};e["a"]=d},d834:function(t,e,r){"use strict";r.r(e);var s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("q-page",{staticClass:"q-px-sm"},[r("q-banner",{staticClass:"navgitor-banner q-my-md",attrs:{rounded:""}},[r("div",{staticClass:"row"},[r("div",{staticClass:"row items-center cursor-pointer",on:{click:function(){t.$router.back()}}},[r("q-icon",{attrs:{name:"arrow_back",size:"25px"}}),r("span",{staticClass:"backTitle q-ml-sm"},[t._v("返回")])],1)])]),r("q-card",{staticClass:"ly-card q-mx-auto"},[r("q-card-section",{staticClass:"row justify-center"},[t.LyricStr?r("Lyric",{attrs:{lrc:t.LyricStr}}):t._e()],1)],1)],1)},i=[],a=r("bad0"),o=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"lyric-box overflow-auto"},[r("q-list",{ref:"lrcList"},t._l(t.musicLyric,(function(e,s){return r("q-item",{key:e.uid,ref:"lrcItem",refInFor:!0,attrs:{"data-index":s}},[r("q-item-section",[r("span",{staticClass:"text"},[t._v(t._s(e.lyric))])])],1)})),1)],1)},n=[],l=(r("fb6a"),r("498a"),{name:"lyricbox",props:["lrc"],data(){return{musicLyric:[],lyricIndex:0,currentTime:0,time:0}},watch:{"$store.getters.getAudioTime"(t,e){this.time=t.toFixed(0)}},created(){},mounted(){setTimeout((()=>{this.resolveLrc(this.$props.lrc)}))},methods:{playLrc(t){this.currentTime=t,console.log(this.currentTime);for(let e=0;e<this.musicLyric.length;e++)if(this.currentTime>parseInt(this.musicLyric[e].time)){const t=this.$refs.lrcItem[e].dataset.index;e===parseInt(t)&&(this.lyricIndex=e,this.$refs.lrcList.style.transform=`translateY(${170-30*(e+1)})`)}},resolveLrc(t){const e=/\n/,r=t.split(e),s=/\[\d{2}:\d{2}.\d{2,3}\]/;r.forEach((t=>{if(""===t)return;const e={},r=t.match(s);e.lyric=""===t.split("]")[1].trim()?"":t.split("]")[1].trim(),e.time=r?this.formatLyricTime(r[0].slice(1,r[0].length-1)):0,e.uid=Math.random().toString().slice(-6),""===e.lyric?console.log("空行"):this.musicLyric.push(e)}))},formatLyricTime(t){const e=/.*:/,r=/\./,s=parseInt(t.match(e)[0].slice(0,2));let i=parseInt(t.match(e)[0].slice(1,3));const a=t.slice(t.match(r).index+1,t.match(r).index+3);return 0!==s&&(i+=60*s),Number(i+"."+a)}}}),c=l,m=(r("ea8b"),r("2877")),d=r("1c1c"),u=r("66e5"),g=r("4074"),p=r("eebe"),h=r.n(p),y=Object(m["a"])(c,o,n,!1,null,"ea32b290",null),L=y.exports;h()(y,"components",{QList:d["a"],QItem:u["a"],QItemSection:g["a"]});var f={name:"Musicdetail",components:{Lyric:L},data(){return{songInfo:{},LyricStr:""}},created(){var t=this.$route.query.id;this.getMusicDetail(t)},beforeMount(){var t=this.$route.query.id;this.getSongLyric(t)},updated(){console.log(111)},methods:{getMusicDetail(t){let e={id:t};a["a"].utils.getSongDetail(e,(t=>{var e=t.songs[0];console.log("dsfgsd",e),this.songInfo.name=e["al"].name,this.songInfo.picUrl=e["al"].picUrl}),(()=>{}))},getSongLyric(t){a["a"].utils.getSongLyric(t,(t=>{this.LyricStr=t["lrc"].lyric}),(()=>{}))}}},v=f,x=(r("88ba"),r("9989")),b=r("54e1"),j=r("0016"),q=r("f09f"),D=r("a370"),U=Object(m["a"])(v,s,i,!1,null,null,null);e["default"]=U.exports;h()(U,"components",{QPage:x["a"],QBanner:b["a"],QIcon:j["a"],QCard:q["a"],QCardSection:D["a"]})},ea8b:function(t,e,r){"use strict";r("a38b")}}]);