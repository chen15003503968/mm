(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[3],{"88ba":function(t,e,s){"use strict";s("943d")},"943d":function(t,e,s){},a38b:function(t,e,s){},b3a7:function(t,e,s){"use strict";let r={historyList:[],searchType:1,serverUrl:"https://netease-cloud-music-api-alpha-two.vercel.app/",urlList:{playlist_hot:"/playlist/hot",reCommNewsone:"/personalized/newsong",reCommMv:"/personalized/mv",reCommDjprogram:"/personalized/djprogram",reCommProgram:"/program/recommend",songDetail:"/song/detail",songUrl:"/song/url",songLyric:"/lyric",song_new_top:"/top/song",banner:"/banner",finds:"/homepage/block/page",search:"/search",cloudsearch:"/cloudsearch",mvUrl:"/mv/url",vdoUrl:"/video/url",vdoDetail:"/video/detail",relatedVdo:"/related/allvideo",djHot:"/dj/hot",djProgramTop:"/dj/program/toplist",djPay:"/dj/toplist/pay",djProgramHours:"/dj/program/toplist/hours",djToplistHours:"/dj/toplist/hours",djNewComer:"/dj/toplist/newcomer",djPopular:"/dj/toplist/popular",djRecommend:"/dj/recommend",djSubscriber:"/dj/subscriber",djDetail:"/dj/detail",djProgram:"/dj/program",djProgramDetail:"/dj/program/detail",comment_dj:"/comment/dj",comment_video:"/comment/video",comment_hot:"/comment/hot",comment_music:"/comment/music",comment_mv:"/comment/mv",comment_playList:"/comment/playlist"}};e["a"]=r},bad0:function(t,e,s){"use strict";var r=s("b3a7"),i=(s("e6cf"),s("bc3a")),a=s.n(i),o=s("4328"),n=s.n(o);a.a.defaults.withCredentials=!0,a.a.defaults.baseURL=r["a"].serverUrl,a.a.interceptors.request.use((t=>("post"!==t.meth||t.data instanceof FormData||(t.headers={"Content-Type":"application/x-www-form-urlencoded"},t.data=n.a.stringify(t.data,{arrayFormat:"repeat"})),t)),(t=>{console.log(t)})),a.a.interceptors.response.use((t=>t),(t=>Promise.resolve(t)));var l=a.a,c=s("2a19"),m=s("436b");let d={netUtils:{requestDataAxios(t,e,s,r,i="post"){l({url:t,data:e,method:i,withCredentials:!0}).then((t=>{console.log(t),s(t.data)})).catch((t=>{r(t)}))},requestAxios(t,e,s,r="post"){l({url:t,method:r,withCredentials:!0}).then((t=>{console.log(t),e(t.data)})).catch((t=>{s(t)}))}},utils:{getHotMusic(t,e){d.netUtils.requestAxios(r["a"].urlList.hot,t,e,"post")},getReCommNewSone(t,e){d.netUtils.requestAxios(r["a"].urlList.reCommNewsone+"?limit=100",t,e,"post")},getRecomeMv(t,e){d.netUtils.requestAxios(r["a"].urlList.reCommMv,t,e,"post")},getRecommSongList(t,e){d.netUtils.requestAxios(r["a"].urlList.reCommNewsone+"?limit=100",t,e,"post")},getRecomeDJ(t,e){d.netUtils.requestAxios(r["a"].urlList.reCommDjprogram,t,e,"post")},getSongUrl(t,e,s){d.netUtils.requestDataAxios(r["a"].urlList.songUrl+"?id="+t.id,t,e,s,"get")},getSongDetail(t,e,s){d.netUtils.requestAxios(r["a"].urlList.songDetail+"?ids="+t.id,e,s,"get")},getMvUrl(t,e,s){d.netUtils.requestAxios(r["a"].urlList.mvUrl+"?id="+t,e,s,"get")},getSearchResult(t,e,s){d.netUtils.requestAxios(r["a"].urlList.search+"?keywords="+t.keywords,e,s,"get")},getCloudSearchResult(t,e,s){d.netUtils.requestAxios(r["a"].urlList.cloudsearch+"?keywords="+t.keywords+"&type="+t.type+"&limit=100&offset=0",e,s,"get")},getSongLyric(t,e,s){d.netUtils.requestAxios(r["a"].urlList.songLyric+"?id="+t,e,s,"get")},getBannerImageData(t,e){d.netUtils.requestAxios(r["a"].urlList.banner,t,e,"get")},getHomeBlock(t,e){d.netUtils.requestAxios(r["a"].urlList.finds,t,e,"get")},getDJHotData(t,e){d.netUtils.requestAxios(r["a"].urlList.djHot+"?limit=100",t,e,"get")},getDJProgramTopData(t,e){d.netUtils.requestAxios(r["a"].urlList.djProgramTop,t,e,"get")},getDJPayTopData(t,e){d.netUtils.requestAxios(r["a"].urlList.djPay,t,e,"get")},getDJSubscriber(t,e,s){d.netUtils.requestAxios(r["a"].urlList.djSubscriber+"?id="+t+"&limit=100",e,s,"get")},getDJDetail(t,e,s){d.netUtils.requestAxios(r["a"].urlList.djDetail+"?rid="+t,e,s,"get")},getDJProgram(t,e,s){d.netUtils.requestAxios(r["a"].urlList.djProgram+"?rid="+t,e,s,"get")},getDJProgramDetail(t,e,s){d.netUtils.requestAxios(r["a"].urlList.djProgramDetail+"?id="+t,e,s,"get")},getDJComment(t,e,s){d.netUtils.requestAxios(r["a"].urlList.comment_dj+"?id="+t,e,s,"get")},getVedioUrl(t,e,s){d.netUtils.requestAxios(r["a"].urlList.vdoUrl+"?id="+t,e,s,"get")},getVedioDetail(t,e,s){d.netUtils.requestAxios(r["a"].urlList.vdoDetail+"?id="+t,e,s,"get")}},formatSeconds(t){var e=parseInt(t),s=0,r="";return e>60&&(s=parseInt(e/60),e=parseInt(e%60)),r=s>0?(parseInt(s)>=10?parseInt(s):"0"+parseInt(s))+":"+(parseInt(e)>=10?parseInt(e):"0"+parseInt(e)):"00:"+(parseInt(e)>=10?parseInt(e):"0"+parseInt(e)),r},timestampToTime(t){var e=new Date(t),s=e.getFullYear()+"-",r=(e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1)+"-",i=e.getDate()+1<10?"0"+(e.getDate()+1):e.getDate()+1;return s+r+i},AlertDialog(t,e,s){m["a"].create({title:t,message:e}).onOk((()=>{s()}))},ShowNotify(t){c["a"].create({message:t})},farmatNumTenThousand(t){return t>1e4?(t/1e4).toFixed(2)+"万":t}};e["a"]=d},d834:function(t,e,s){"use strict";s.r(e);var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-page",{staticClass:"q-px-sm"},[s("q-banner",{staticClass:"navgitor-banner q-my-md",attrs:{rounded:""}},[s("div",{staticClass:"row"},[s("div",{staticClass:"row items-center cursor-pointer",on:{click:function(){t.$router.back()}}},[s("q-icon",{attrs:{name:"arrow_back",size:"25px"}}),s("span",{staticClass:"backTitle q-ml-sm"},[t._v("返回")])],1)])]),s("q-card",{staticClass:"ly-card q-mx-auto"},[s("q-card-section",{staticClass:"row justify-center"},[t.LyricStr?s("Lyric",{attrs:{lrc:t.LyricStr}}):t._e()],1)],1)],1)},i=[],a=s("bad0"),o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"lyric-box overflow-auto"},[s("q-list",{ref:"lrcList"},t._l(t.musicLyric,(function(e,r){return s("q-item",{key:e.uid,ref:"lrcItem",refInFor:!0,attrs:{"data-index":r}},[s("q-item-section",[s("span",{staticClass:"text"},[t._v(t._s(e.lyric))])])],1)})),1)],1)},n=[],l=(s("fb6a"),s("498a"),{name:"lyricbox",props:["lrc"],data(){return{musicLyric:[],lyricIndex:0,currentTime:0,time:0}},watch:{"$store.getters.getAudioTime"(t,e){this.time=t.toFixed(0)}},created(){},mounted(){setTimeout((()=>{this.resolveLrc(this.$props.lrc)}))},methods:{playLrc(t){this.currentTime=t,console.log(this.currentTime);for(let e=0;e<this.musicLyric.length;e++)if(this.currentTime>parseInt(this.musicLyric[e].time)){const t=this.$refs.lrcItem[e].dataset.index;e===parseInt(t)&&(this.lyricIndex=e,this.$refs.lrcList.style.transform=`translateY(${170-30*(e+1)})`)}},resolveLrc(t){const e=/\n/,s=t.split(e),r=/\[\d{2}:\d{2}.\d{2,3}\]/;s.forEach((t=>{if(""===t)return;const e={},s=t.match(r);e.lyric=""===t.split("]")[1].trim()?"":t.split("]")[1].trim(),e.time=s?this.formatLyricTime(s[0].slice(1,s[0].length-1)):0,e.uid=Math.random().toString().slice(-6),""===e.lyric?console.log("空行"):this.musicLyric.push(e)}))},formatLyricTime(t){const e=/.*:/,s=/\./,r=parseInt(t.match(e)[0].slice(0,2));let i=parseInt(t.match(e)[0].slice(1,3));const a=t.slice(t.match(s).index+1,t.match(s).index+3);return 0!==r&&(i+=60*r),Number(i+"."+a)}}}),c=l,m=(s("ea8b"),s("2877")),d=s("1c1c"),u=s("66e5"),g=s("4074"),p=s("eebe"),h=s.n(p),y=Object(m["a"])(c,o,n,!1,null,"ea32b290",null),L=y.exports;h()(y,"components",{QList:d["a"],QItem:u["a"],QItemSection:g["a"]});var f={name:"Musicdetail",components:{Lyric:L},data(){return{songInfo:{},LyricStr:""}},created(){var t=this.$route.query.id;this.getMusicDetail(t)},beforeMount(){var t=this.$route.query.id;this.getSongLyric(t)},updated(){console.log(111)},methods:{getMusicDetail(t){let e={id:t};a["a"].utils.getSongDetail(e,(t=>{var e=t.songs[0];console.log("dsfgsd",e),this.songInfo.name=e["al"].name,this.songInfo.picUrl=e["al"].picUrl}),(()=>{}))},getSongLyric(t){a["a"].utils.getSongLyric(t,(t=>{this.LyricStr=t["lrc"].lyric}),(()=>{}))}}},v=f,x=(s("88ba"),s("9989")),b=s("54e1"),j=s("0016"),q=s("f09f"),D=s("a370"),U=Object(m["a"])(v,r,i,!1,null,null,null);e["default"]=U.exports;h()(U,"components",{QPage:x["a"],QBanner:b["a"],QIcon:j["a"],QCard:q["a"],QCardSection:D["a"]})},ea8b:function(t,e,s){"use strict";s("a38b")}}]);